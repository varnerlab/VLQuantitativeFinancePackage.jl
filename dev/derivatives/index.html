<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Derivative securities · VLQuantitativeFinancePackage</title><meta name="title" content="Derivative securities · VLQuantitativeFinancePackage"/><meta property="og:title" content="Derivative securities · VLQuantitativeFinancePackage"/><meta property="twitter:title" content="Derivative securities · VLQuantitativeFinancePackage"/><meta name="description" content="Documentation for VLQuantitativeFinancePackage."/><meta property="og:description" content="Documentation for VLQuantitativeFinancePackage."/><meta property="twitter:description" content="Documentation for VLQuantitativeFinancePackage."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">VLQuantitativeFinancePackage</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../data/">Data</a></li><li><span class="tocitem">Instruments</span><ul><li><a class="tocitem" href="../fixed/">Treasury securities</a></li><li><a class="tocitem" href="../equity/">Equity securities</a></li><li class="is-active"><a class="tocitem" href>Derivative securities</a><ul class="internal"><li><a class="tocitem" href="#Options-contracts"><span>Options contracts</span></a></li><li><a class="tocitem" href="#Contracts-at-expiration"><span>Contracts at expiration</span></a></li><li><a class="tocitem" href="#European-contract-premiums"><span>European contract premiums</span></a></li><li><a class="tocitem" href="#American-contract-premiums"><span>American contract premiums</span></a></li><li><a class="tocitem" href="#Implied-volatility"><span>Implied volatility</span></a></li><li><a class="tocitem" href="#The-Greeks"><span>The Greeks</span></a></li><li><a class="tocitem" href="#Hedging"><span>Hedging</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../portfolio/">Portfolio management</a></li><li><span class="tocitem">Decisions</span><ul><li><a class="tocitem" href="../markov/">Markov models</a></li><li><a class="tocitem" href="../bandits/">Bandits</a></li><li><a class="tocitem" href="../RL/">Reinforcement learning</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Instruments</a></li><li class="is-active"><a href>Derivative securities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Derivative securities</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/main/docs/src/derivatives.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Derivative-Securities"><a class="docs-heading-anchor" href="#Derivative-Securities">Derivative Securities</a><a id="Derivative-Securities-1"></a><a class="docs-heading-anchor-permalink" href="#Derivative-Securities" title="Permalink"></a></h1><p>Derivatives are financial instruments based on the value of other assets like commodities, stocks, or market indexes. Options are a type of derivative that uses stock as its underlying asset. They are contractual agreements giving the buyer the right, but not the obligation, to execute a transaction at a later date. </p><h2 id="Options-contracts"><a class="docs-heading-anchor" href="#Options-contracts">Options contracts</a><a id="Options-contracts-1"></a><a class="docs-heading-anchor-permalink" href="#Options-contracts" title="Permalink"></a></h2><p>Options contracts are financial instruments that give the holder the right to buy or sell an asset at a predetermined price on or before a specific date. The two main types of options are call options and put options. </p><ul><li>Call options give the holder the right to buy an asset at a predetermined price on or before the expiration date.</li><li>Put options give the holder the right to sell an asset at a predetermined price on or before the expiration date.</li></ul><h3 id="European-option-contracts"><a class="docs-heading-anchor" href="#European-option-contracts">European option contracts</a><a id="European-option-contracts-1"></a><a class="docs-heading-anchor-permalink" href="#European-option-contracts" title="Permalink"></a></h3><p>European options are contracts that give the holder the right to buy or sell an asset at a predetermined price on the expiration date. </p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyEuropeanCallContractModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel"><code>VLQuantitativeFinancePackage.MyEuropeanCallContractModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyEuropeanCallContractModel &lt;: AbstractContractModel</code></pre><p>The <code>MyEuropeanCallContractModel</code> mutable struct represents a European call option contract. A <code>call</code> option is a financial contract that gives the holder the right, but not the obligation, to buy an asset at a specified price (the strike price)  within a specified time period. For European options, the contract can only be exercised by the buyer at the expiration date.</p><p><strong>Required fields</strong></p><ul><li><code>K::Float64</code>: The strike price of the option. </li></ul><p><strong>Optional fields</strong></p><ul><li><code>sense::Union{Nothing, Int64}</code>: The sense of the option. A value of <code>1</code> indicates a long position, and a value of <code>-1</code> indicates a short position.</li><li><code>DTE::Union{Nothing,Float64}</code>: The days to expiration of the option (measured in units of years).</li><li><code>IV::Union{Nothing, Float64}</code>: The implied volatility of the option contract.</li><li><code>premium::Union{Nothing, Float64}</code>: The premium of the option contract. This is the price paid to the seller by the buyer for the option contract.</li><li><code>ticker::Union{Nothing,String}</code>: The ticker symbol of the underlying asset.</li><li><code>copy::Union{Nothing, Int64}</code>: Number of contracts purchased or sold.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L286-L303">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>VLQuantitativeFinancePackage.MyEuropeanPutContractModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyEuropeanPutContractModel &lt;: AbstractContractModel</code></pre><p>The <code>MyEuropeanPutContractModel</code> mutable struct represents a European put option contract.  A <code>put</code> option is a financial contract that gives the holder the right, but not the obligation, to sell an asset at a specified price (the strike price) within a specified time period. For European options, the contract can only be exercised by the buyer at the expiration date.</p><p><strong>Required fields</strong></p><ul><li><code>K::Float64</code>: The strike price of the option.</li></ul><p><strong>Optional fields</strong></p><ul><li><code>sense::Union{Nothing, Int64}</code>: The sense of the option. A value of <code>1</code> indicates a long position, and a value of <code>-1</code> indicates a short position.</li><li><code>DTE::Union{Nothing,Float64}</code>: The days to expiration of the option (measured in units of years).</li><li><code>IV::Union{Nothing, Float64}</code>: The implied volatility of the option contract.</li><li><code>premium::Union{Nothing, Float64}</code>: The premium of the option contract. This is the price paid to the seller by the buyer for the option contract.</li><li><code>ticker::Union{Nothing,String}</code>: The ticker symbol of the underlying asset.</li><li><code>copy::Union{Nothing, Int64}</code>: Number of contracts purchased or sold.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L319-L336">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.build-Tuple{Type{MyEuropeanCallContractModel}, NamedTuple}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.build-Tuple{Type{MyEuropeanCallContractModel}, NamedTuple}"><code>VLQuantitativeFinancePackage.build</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function build(model::Type{MyEuropeanCallContractModel}, data::NamedTuple) -&gt; MyEuropeanCallContractModel</code></pre><p>This <code>build</code> method constructs an instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel"><code>MyEuropeanCallContractModel</code></a> type using the data in a <a href="https://docs.julialang.org/en/v1/base/base/#Core.NamedTuple">NamedTuple</a>.</p><p><strong>Arguments</strong></p><ul><li><code>model::Type{MyEuropeanCallContractModel}</code>: The type of model to build.</li><li><code>data::NamedTuple</code>: The data to use to build the model.</li></ul><p>The <code>data::NamedTuple</code> must contain the following <code>keys</code>:</p><ul><li><code>K::Float64</code>: The strike price of the contract.</li></ul><p>The other fields of the <a href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel"><code>MyEuropeanCallContractModel</code></a> model are set to <code>nothing</code> by default.  These optional fields can be updated by the user after the model is built, or by passing the values in the <code>data::NamedTuple</code> argument.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Factory.jl#L363-L377">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.build-Tuple{Type{MyEuropeanPutContractModel}, NamedTuple}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.build-Tuple{Type{MyEuropeanPutContractModel}, NamedTuple}"><code>VLQuantitativeFinancePackage.build</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function build(model::Type{MyEuropeanPutContractModel}, data::NamedTuple) -&gt; MyEuropeanPutContractModel</code></pre><p>This <code>build</code> method constructs an instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>MyEuropeanPutContractModel</code></a> type using the data in a <a href="https://docs.julialang.org/en/v1/base/base/#Core.NamedTuple">NamedTuple</a>. </p><p><strong>Arguments</strong></p><ul><li><code>model::Type{MyEuropeanPutContractModel}</code>: The type of model to build.</li><li><code>data::NamedTuple</code>: The data to use to build the model.</li></ul><p>The <code>data::NamedTuple</code> must contain the following <code>keys</code>:</p><ul><li><code>K::Float64</code>: The strike price of the contract.</li></ul><p>The other fields of the <a href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>MyEuropeanPutContractModel</code></a> model are set to <code>nothing</code> by default. These optional fields can be updated by the user after the model is built, or by passing the values in the <code>data::NamedTuple</code> argument.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Factory.jl#L380-L394">source</a></div></details></article><h3 id="American-option-contracts"><a class="docs-heading-anchor" href="#American-option-contracts">American option contracts</a><a id="American-option-contracts-1"></a><a class="docs-heading-anchor-permalink" href="#American-option-contracts" title="Permalink"></a></h3><p>American options are contracts that give the holder the right to buy or sell an asset at a predetermined price at any time before the expiration date.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyAmericanCallContractModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyAmericanCallContractModel"><code>VLQuantitativeFinancePackage.MyAmericanCallContractModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyAmericanCallContractModel &lt;: AbstractContractModel</code></pre><p>The <code>MyAmericanCallContractModel</code> mutable struct represents an American call option contract.  An <code>American call</code> option is a financial contract that gives the holder the right, but not the obligation, to buy an asset at a specified price (the strike price). American option contracts can be exercised at any time on or before the expiration date.</p><p><strong>Required fields</strong></p><ul><li><code>K::Float64</code>: The strike price of the option.</li></ul><p><strong>Optional fields</strong></p><ul><li><code>sense::Union{Nothing, Int64}</code>: The sense of the option. A value of <code>1</code> indicates a long position, and a value of <code>-1</code> indicates a short position.</li><li><code>DTE::Union{Nothing,Float64}</code>: The days to expiration of the option (measured in units of years).</li><li><code>IV::Union{Nothing, Float64}</code>: The implied volatility of the option contract.</li><li><code>premium::Union{Nothing, Float64}</code>: The premium of the option contract. This is the price paid to the seller by the buyer for the option contract.</li><li><code>ticker::Union{Nothing,String}</code>: The ticker symbol of the underlying asset.</li><li><code>copy::Union{Nothing, Int64}</code>: Number of contracts purchased or sold.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L352-L369">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyAmericanPutContractModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyAmericanPutContractModel"><code>VLQuantitativeFinancePackage.MyAmericanPutContractModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyAmericanPutContractModel &lt;: AbstractContractModel</code></pre><p>The <code>MyAmericanPutContractModel</code> mutable struct represents an American put option contract.  A <code>put</code> option is a financial contract that gives the holder the right, but not the obligation, to sell an asset at a specified price (the strike price). For American options, the contract can be exercised at any time on or before the expiration date.</p><p><strong>Required fields</strong></p><ul><li><code>K::Float64</code>: The strike price of the option.</li></ul><p><strong>Optional fields</strong></p><ul><li><code>sense::Union{Nothing, Int64}</code>: The sense of the option. A value of <code>1</code> indicates a long position, and a value of <code>-1</code> indicates a short position.</li><li><code>DTE::Union{Nothing,Float64}</code>: The days to expiration of the option (measured in units of years).</li><li><code>IV::Union{Nothing, Float64}</code>: The implied volatility of the option contract.</li><li><code>premium::Union{Nothing, Float64}</code>: The premium of the option contract. This is the price paid to the seller by the buyer for the option contract.</li><li><code>ticker::Union{Nothing,String}</code>: The ticker symbol of the underlying asset.</li><li><code>copy::Union{Nothing, Int64}</code>: Number of contracts purchased or sold.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L385-L402">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.build-Tuple{Type{MyAmericanCallContractModel}, NamedTuple}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.build-Tuple{Type{MyAmericanCallContractModel}, NamedTuple}"><code>VLQuantitativeFinancePackage.build</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function build(model::Type{MyAmericanCallContractModel}, data::NamedTuple) -&gt; MyAmericanCallContractModel</code></pre><p>This <code>build</code> method constructs an instance of the <a href="#VLQuantitativeFinancePackage.MyAmericanCallContractModel"><code>MyAmericanCallContractModel</code></a> type using the data in a <a href="https://docs.julialang.org/en/v1/base/base/#Core.NamedTuple">NamedTuple</a>.</p><p><strong>Arguments</strong></p><ul><li><code>model::Type{MyAmericanCallContractModel}</code>: The type of model to build.</li><li><code>data::NamedTuple</code>: The data to use to build the model.</li></ul><p>The <code>data::NamedTuple</code> must contain the following <code>keys</code>:</p><ul><li><code>K::Float64</code>: The strike price of the contract.</li></ul><p>The other fields of the <a href="#VLQuantitativeFinancePackage.MyAmericanCallContractModel"><code>MyAmericanCallContractModel</code></a> model are set to <code>nothing</code> by default. These optional fields can be updated by the user after the model is built, or by passing the values in the <code>data::NamedTuple</code> argument.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Factory.jl#L415-L429">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.build-Tuple{Type{MyAmericanPutContractModel}, NamedTuple}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.build-Tuple{Type{MyAmericanPutContractModel}, NamedTuple}"><code>VLQuantitativeFinancePackage.build</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function build(model::Type{MyAmericanPutContractModel}, data::NamedTuple) -&gt; MyAmericanPutContractModel</code></pre><p>This <code>build</code> method constructs an instance of the <a href="#VLQuantitativeFinancePackage.MyAmericanPutContractModel"><code>MyAmericanPutContractModel</code></a> type using the data in a <a href="https://docs.julialang.org/en/v1/base/base/#Core.NamedTuple">NamedTuple</a>.</p><p><strong>Arguments</strong></p><ul><li><code>model::Type{MyAmericanPutContractModel}</code>: The type of model to build.</li><li><code>data::NamedTuple</code>: The data to use to build the model.</li></ul><p>The <code>data::NamedTuple</code> must contain the following <code>keys</code>:</p><ul><li><code>K::Float64</code>: The strike price of the contract.</li></ul><p>The other fields of the <a href="#VLQuantitativeFinancePackage.MyAmericanPutContractModel"><code>MyAmericanPutContractModel</code></a> model are set to <code>nothing</code> by default.  These optional fields can be updated by the user after the model is built, or by passing the values in the <code>data::NamedTuple</code> argument.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Factory.jl#L398-L412">source</a></div></details></article><h2 id="Contracts-at-expiration"><a class="docs-heading-anchor" href="#Contracts-at-expiration">Contracts at expiration</a><a id="Contracts-at-expiration-1"></a><a class="docs-heading-anchor-permalink" href="#Contracts-at-expiration" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.payoff"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.payoff"><code>VLQuantitativeFinancePackage.payoff</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">payoff(contracts::Array{T,1}, S::Array{Float64,1}) -&gt; Array{Float64,2} where T &lt;: AbstractContractModel</code></pre><p>The <code>payoff</code> function computes the payoff for a set of option contracts at expiration given the underlying prices contained in the <code>S::Array{Float64,1}</code> array.</p><p><strong>Arguments</strong></p><ul><li><code>contracts::Array{T,1}</code>: An array of option contracts where <code>T</code> is a subtype of the <code>AbstractContractModel</code> type.</li><li><code>S::Array{Float64,1}</code>: An array of underlying prices.</li></ul><p><strong>Returns</strong></p><ul><li><code>Array{Float64,2}</code>: A matrix of size <code>(number_of_underlying_prices, number_of_contracts + 2)</code> where each row represents an underlying price and each column containts the payoff for each contract. </li></ul><p>The first column contains the underlying price, the second column contains the payoff for the first contract, the third column contains the payoff for the second contract, and so on. The last column contains the sum of the payoffs for all contracts.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L766-L779">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.profit"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.profit"><code>VLQuantitativeFinancePackage.profit</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">profit(contracts::Array{T,1}, S::Array{Float64,1}) -&gt; Array{Float64,2} where T &lt;: AbstractContractModel</code></pre><p>The <code>profit</code> function computes the profit for a set of option contracts at expiration given the underlying prices contained in the <code>S::Array{Float64,1}</code> array. This function requires the contracts to have the <code>premium</code> field set on each contract model.</p><p><strong>Arguments</strong></p><ul><li><code>contracts::Array{T,1}</code>: An array of option contracts where <code>T</code> is a subtype of the <code>AbstractContractModel</code> type. Each contract must have the <code>premium</code> field set.</li><li><code>S::Array{Float64,1}</code>: An array of underlying prices at expiration.</li></ul><p><strong>Returns</strong></p><ul><li><code>Array{Float64,2}</code>: A matrix of size <code>(number_of_underlying_prices, number_of_contracts + 2)</code> where each row represents an underlying price and each column containts the profit for a contract.</li></ul><p>The first column contains the underlying price, the second column contains the profit for the first contract, the third column contains the profit for the second contract, and so on. The last column contains the sum of the profits for all contracts.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L819-L833">source</a></div></details></article><h2 id="European-contract-premiums"><a class="docs-heading-anchor" href="#European-contract-premiums">European contract premiums</a><a id="European-contract-premiums-1"></a><a class="docs-heading-anchor-permalink" href="#European-contract-premiums" title="Permalink"></a></h2><p>European options are the simplest type of options to price because they can only be exercised on the expiration date. There are many methods to compute the premium of an options contract, but the most widely used method (by far) is the Black-Scholes-Merton (BSM) model (and its extensions). The BSM model has a closed-form solution, i.e., a mathematical expression that can be evaluated directly. Thus, it is computationally efficient. Alternatively, the premium of an options contract can be computed using numerical methods, such as binomial trees or Monte Carlo simulation.</p><h3 id="Black-Scholes-model"><a class="docs-heading-anchor" href="#Black-Scholes-model">Black-Scholes model</a><a id="Black-Scholes-model-1"></a><a class="docs-heading-anchor-permalink" href="#Black-Scholes-model" title="Permalink"></a></h3><p>The Black-Scholes-Merton model is used to compute the premium of European-style options contracts \cite{BlackScholes1973}; Robert C. Merton, Myron S. Scholes, and Fischer Black won the <a href="https://www.nobelprize.org/prizes/economic-sciences/1997/press-release/">Nobel Prize in Economics in 1997</a> for their work on this model. The model assumes that the underlying asset&#39;s price follows a geometric Brownian motion with constant drift and volatility, where the drift is the risk-free interest rate, i.e., we evaluate the option using a risk-neutral pricing paradigm. Further, the model assumes that the risk-free interest rate is constant and that the underlying stock does not pay dividends (although the model can be modified to include dividends). Under these assumptions, the price of the option can be computed using the Black-Scholes-Merton pricing formula, which is the parabolic partial differential equation:</p><p class="math-container">\[\begin{aligned}
	\frac{\partial{V}}{\partial{t}} + \frac{1}{2}\sigma^{2}S^{2}\frac{\partial^{2}V}{\partial{S}^{2}} + \bar{r}S\frac{\partial{V}}{\partial{S}}  &amp;= \bar{r}V \\
	\frac{dS}{S} &amp;= \bar{r}\,dt + \sigma\,{dW}\\
	V(T,S) &amp;= K(S)
\end{aligned}\]</p><p>where <span>$V(t, S)$</span> is the price of the option, <span>$S$</span> is the price of the underlying asset (governed by the risk-neutral geometric Brownian motion model),  <span>$K(S)$</span> is the payoff of the option at expiration, <span>$T$</span> is the expiration date, <span>$t$</span> is time,  <span>$\bar{r}$</span> is the risk-free interest rate, and <span>$\sigma$</span> is the volatility of the underlying asset. <span>$t$</span> is time, <span>$r$</span> is the risk-free interest rate, and <span>$\sigma$</span> is the volatility of the underlying asset. While we could solve the partial differential equation directly, it is more common to use the closed-form solution of the Black-Scholes-Merton pricing formula.</p><p>We implement the Black-Scholes-Merton model in the <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>MyBlackScholesContractPricingModel</code></a> type, which is used to compute the premium of European options contracts.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyBlackScholesContractPricingModel &lt;: AbstractAssetModel</code></pre><p>The <code>MyBlackScholesContractPricingModel</code> mutable struct represents a <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes model</a> for pricing European option contracts. </p><p><strong>Required fields</strong></p><ul><li><code>r::Float64</code>: The annual risk-free discount rate</li><li><code>Sₒ::Float64</code>: The current price of the underlying asset</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L132-L141">source</a></div></details></article><h4 id="European-call-options"><a class="docs-heading-anchor" href="#European-call-options">European call options</a><a id="European-call-options-1"></a><a class="docs-heading-anchor-permalink" href="#European-call-options" title="Permalink"></a></h4><p>The Black-Scholes-Merton pricing formula for a European call option is given by the expression:</p><p class="math-container">\[\begin{equation}
	\mathcal{P}_{c}(K,S(0)) = N(d_{+})S(0) - N(d_{-})K\mathcal{D}^{-1}_{T,0}(\bar{r})
\end{equation}\]</p><p>where <span>$N(\dots)$</span> denotes the standard normal cumulative distribution function,  <span>$S(0)$</span> is the price of the underlying asset at time <span>$t=0$</span> (when we are evaluating the option), <span>$K$</span> is the strike price of the contract, and <span>$\mathcal{D}^{-1}_{T,0}(\bar{r})$</span> is the discount factor from time <span>$t=0$</span> to time <span>$T$</span> evaluated at the risk-free interest rate <span>$\bar{r}$</span>. The arguments of the normal cumulative distribution function are given by:</p><p class="math-container">\[\begin{aligned}
d_{+} &amp;=  \frac{1}{\sigma\sqrt{T}}\left[\ln(\frac{S_{\circ}}{K}) + (\bar{r}+\frac{\sigma^{2}}{2})T\right] \\
d_{-} &amp;=  d_{+} - \sigma\sqrt{T}
\end{aligned}\]</p><p>We implement the Black-Scholes-Merton pricing formula for European call using the <code>premium</code> function, which takes a  <a href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel"><code>MyEuropeanCallContractModel</code></a> and a <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>MyBlackScholesContractPricingModel</code></a> instance as input arguments. The function returns the premium of the contract.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.premium-Tuple{MyEuropeanCallContractModel, MyBlackScholesContractPricingModel}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.premium-Tuple{MyEuropeanCallContractModel, MyBlackScholesContractPricingModel}"><code>VLQuantitativeFinancePackage.premium</code></a> — <span class="docstring-category">Method</span></summary><div><p>function premium(contract::MyEuropeanCallContractModel,                  model::MyBlackScholesContractPricingModel; sigdigits::Int64 = 4)</p><p>The <code>premium</code> function computes the premium for a European call option contract using the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model</a>. This function requires the contract to have the <code>K</code>, <code>DTE</code>, and <code>IV</code> fields set on the contract model, and the <code>Sₒ</code> and <code>r</code> fields set on the pricing <code>model::MyBlackScholesContractPricingModel</code> instance.</p><p><strong>Arguments</strong></p><ul><li><code>contract::MyEuropeanCallContractModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel">MyEuropeanCallContractModel</a> type which models the European call option contract.</li><li><code>model::MyBlackScholesContractPricingModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel">MyBlackScholesContractPricingModel</a> type which models the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model calculation</a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The premium for the European call option contract.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L1027-L1040">source</a></div></details></article><h4 id="European-put-options"><a class="docs-heading-anchor" href="#European-put-options">European put options</a><a id="European-put-options-1"></a><a class="docs-heading-anchor-permalink" href="#European-put-options" title="Permalink"></a></h4><p>The Black-Scholes-Merton pricing formula for a European put option is given by the expression:</p><p class="math-container">\[\mathcal{P}_{p}(K,S(0)) = N(-d_{-})\cdot{K}\cdot\mathcal{D}^{-1}_{T,0}(\bar{r}) - N(-d_{+})\cdot{S}(0)\]</p><p>where <span>$N(\dots)$</span> denotes the standard normal cumulative distribution function,  <span>$S(0)$</span> is the price of the underlying asset at time <span>$t=0$</span> (when we are evaluating the option), <span>$K$</span> is the strike price of the contract, and <span>$\mathcal{D}^{-1}_{T,0}(\bar{r})$</span> is the discount factor from time <span>$t=0$</span> to time <span>$T$</span> evaluated at the risk-free interest rate <span>$\bar{r}$</span>. The arguments of the normal cumulative distribution function are given by:</p><p class="math-container">\[\begin{aligned}
d_{+} &amp;=  \frac{1}{\sigma\sqrt{T}}\left[\ln(\frac{S_{\circ}}{K}) + (\bar{r}+\frac{\sigma^{2}}{2})T\right] \\
d_{-} &amp;=  d_{+} - \sigma\sqrt{T}
\end{aligned}\]</p><p>We implement the Black-Scholes-Merton pricing formula for European put using the <code>premium</code> function, which takes a  <a href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>MyEuropeanPutContractModel</code></a> and a <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>MyBlackScholesContractPricingModel</code></a> instance as input arguments. The function returns the premium of the contract.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.premium-Tuple{MyEuropeanPutContractModel, MyBlackScholesContractPricingModel}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.premium-Tuple{MyEuropeanPutContractModel, MyBlackScholesContractPricingModel}"><code>VLQuantitativeFinancePackage.premium</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function premium(contract::MyEuropeanPutContractModel, 
            model::MyBlackScholesContractPricingModel; sigdigits::Int64 = 4) -&gt; Float64</code></pre><p>The <code>premium</code> function computes the premium for a European put option contract using the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model</a>. This function requires the contract to have the <code>K</code>, <code>DTE</code>, and <code>IV</code> fields set on the contract model, and the <code>Sₒ</code> and <code>r</code> fields set on the pricing <code>model::MyBlackScholesContractPricingModel</code> instance.</p><p><strong>Arguments</strong></p><ul><li><code>contract::MyEuropeanPutContractModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>MyEuropeanPutContractModel</code></a> type which models the European put option contract.</li><li><code>model::MyBlackScholesContractPricingModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>MyBlackScholesContractPricingModel</code></a> type which models the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model calculation</a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The premium for the European put option contract.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L1062-L1075">source</a></div></details></article><h2 id="American-contract-premiums"><a class="docs-heading-anchor" href="#American-contract-premiums">American contract premiums</a><a id="American-contract-premiums-1"></a><a class="docs-heading-anchor-permalink" href="#American-contract-premiums" title="Permalink"></a></h2><p>Finding the premium for American options is more complex than for European options because the holder can exercise the option at any time before the expiration date. The premium can be calculated using the binomial pricing model, or other more complex models like the trinomial tree model or monte carlo simulation approaches.</p><h3 id="Binomial-pricing-model"><a class="docs-heading-anchor" href="#Binomial-pricing-model">Binomial pricing model</a><a id="Binomial-pricing-model-1"></a><a class="docs-heading-anchor-permalink" href="#Binomial-pricing-model" title="Permalink"></a></h3><p>The binomial pricing model is a popular method for pricing American options. It uses a binomial tree to model the price of the underlying asset over time. The tree is constructed by moving up and down at each step, representing the price of the underlying asset increasing or decreasing. The premium is calculated by working backward from the expiration date to the present date, calculating the premium at each node and discounting it back to the present date.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyAdjacencyBasedCRREquityPriceTree"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyAdjacencyBasedCRREquityPriceTree"><code>VLQuantitativeFinancePackage.MyAdjacencyBasedCRREquityPriceTree</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyAdjacencyBasedCRREquityPriceTree &lt;: AbstractEquityPriceTreeModel</code></pre><p>The <code>MyAdjacencyBasedCRREquityPriceTree</code> mutable struct represents a <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein (CRR) model</a> for pricing American style option contracts. The lattice is constructed using an adjacency list to represent the connectivity of the nodes in the lattice. The lattice is populated using the <a href="#VLQuantitativeFinancePackage.populate-Tuple{MyAdjacencyBasedCRREquityPriceTree}"><code>populate</code></a> function, and the contract pricing is performed using the <a href="#VLQuantitativeFinancePackage.premium"><code>premium</code></a> function.</p><p><strong>Required fields</strong></p><ul><li><code>μ::Float64</code>: The drift rate of the asset price</li><li><code>σ::Float64</code>: The volatility of the asset price</li><li><code>T::Float64</code>: The time to expiration of the option contract (measured in units of years)</li></ul><p><strong>Optional or computed fields</strong></p><ul><li><code>ΔT::Union{Nothing,Float64}</code>: The time step size</li><li><code>u::Union{Nothing,Float64}</code>: The up-factor for the lattice</li><li><code>d::Union{Nothing,Float64}</code>: The down-factor for the lattice</li><li><code>p::Union{Nothing,Float64}</code>: The probability of an up move in the lattice</li><li><code>data::Union{Nothing, Dict{Int, MyCRRLatticeNodeModel}}</code>: A dictionary that holds the lattice data for each node where nodes are modeled as <a href="#VLQuantitativeFinancePackage.MyCRRLatticeNodeModel"><code>MyCRRLatticeNodeModel</code></a> instances.</li><li><code>connectivity::Union{Nothing, Dict{Int64, Array{Int64,1}}}</code>: A dictionary that holds the connectivity of the lattice where the <code>key</code> is the node index and the <code>value</code> is an array of the connected nodes.</li><li><code>levels::Union{Nothing, Dict{Int64,Array{Int64,1}}}</code>: A dictionary that holds the nodes on each level of the lattice where the <code>key</code> is the level index and the <code>value</code> is an array of the nodes on that level.</li></ul><p>The <code>optional</code> fields are computed when the lattice is passed to the <a href="#VLQuantitativeFinancePackage.populate-Tuple{MyAdjacencyBasedCRREquityPriceTree}"><code>populate</code></a> function.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L56-L78">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyCRRLatticeNodeModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyCRRLatticeNodeModel"><code>VLQuantitativeFinancePackage.MyCRRLatticeNodeModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyCRRLatticeNodeModel</code></pre><p>The <code>MyCRRLatticeNodeModel</code> mutable struct represents a node in a <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein (CRR) model</a> for pricing American style option contracts.</p><p><strong>Required fields</strong></p><ul><li><code>price::Float64</code>: The price of the price at the node</li><li><code>probability::Float64</code>: The probability of reaching the node</li></ul><p><strong>Optional or computed fields</strong></p><ul><li><code>intrinsic::Union{Nothing,Float64}</code>: The intrinsic value of the option contract at the node</li><li><code>extrinsic::Union{Nothing,Float64}</code>: The extrinsic value of the option contract at the node</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L30-L43">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.build-Tuple{Type{MyAdjacencyBasedCRREquityPriceTree}, NamedTuple}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.build-Tuple{Type{MyAdjacencyBasedCRREquityPriceTree}, NamedTuple}"><code>VLQuantitativeFinancePackage.build</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function build(model::Type{MyAdjacencyBasedCRREquityPriceTree}, data::NamedTuple) -&gt; MyAdjacencyBasedCRREquityPriceTree</code></pre><p>This <code>build</code> method constructs an instance of the <a href="#VLQuantitativeFinancePackage.MyAdjacencyBasedCRREquityPriceTree"><code>MyAdjacencyBasedCRREquityPriceTree</code></a> type using the data in a <a href="https://docs.julialang.org/en/v1/base/base/#Core.NamedTuple">NamedTuple</a>.</p><p><strong>Arguments</strong></p><ul><li><code>model::Type{MyAdjacencyBasedCRREquityPriceTree}</code>: The type of model to build.</li><li><code>data::NamedTuple</code>: The data to use to build the model.</li></ul><p>The <code>data::NamedTuple</code> must contain the following <code>keys</code>:</p><ul><li><code>μ::Float64</code>: The drift rate of the asset price. For a risk-neutral measure, this is the risk-free rate.</li><li><code>σ::Float64</code>: The volatility of the asset price. This is the implied volatility for a risk-neutral measure.</li><li><code>T::Float64</code>: The time to expiration of the option contract (measured in units of years)</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Factory.jl#L300-L313">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.populate-Tuple{MyAdjacencyBasedCRREquityPriceTree}"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.populate-Tuple{MyAdjacencyBasedCRREquityPriceTree}"><code>VLQuantitativeFinancePackage.populate</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">function populate(model::MyAdjacencyBasedCRREquityPriceTree; 
            Sₒ::Float64 = 100.0, h::Int64 = 1)</code></pre><p>The <code>populate</code> function initializes the <code>MyAdjacencyBasedCRREquityPriceTree</code> model with share prices and probabilities for each node in the lattice. In addition, this methods sets the intrinsic and extrinsic values of each node to <code>0.0</code> and computes the connectivity and levels of the lattice.</p><p><strong>Arguments</strong></p><ul><li><code>model::MyAdjacencyBasedCRREquityPriceTree</code>: An instance of the <code>MyAdjacencyBasedCRREquityPriceTree</code> type.</li><li><code>Sₒ::Float64 = 100.0</code>: The initial price of the equity.</li><li><code>h::Int64 = 1</code>: The number of time steps in the lattice (the height of the binomial price tree).</li></ul><p><strong>Returns</strong></p><ul><li><code>MyAdjacencyBasedCRREquityPriceTree</code>: An updated instance of the <code>MyAdjacencyBasedCRREquityPriceTree</code> type with the share prices and probabilities computed for each node in the lattice.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L1411-L1425">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.premium"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.premium"><code>VLQuantitativeFinancePackage.premium</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">premium(contract::T, model::MyAdjacencyBasedCRREquityPriceTree; 
    choice::Function=_rational, sigdigits::Int64 = 4) -&gt; Float64 where {T&lt;:AbstractContractModel}</code></pre><p>Computes the premium for an American style option contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein model</a>.</p><p><strong>Arguments</strong></p><ul><li><code>contract::T</code>: An instance of the <code>AbstractContractModel</code> type which models the option contract. </li><li><code>model::MyAdjacencyBasedCRREquityPriceTree</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyAdjacencyBasedCRREquityPriceTree">MyAdjacencyBasedCRREquityPriceTree</a> type which models the Cox-Ross-Rubinstein model.</li><li><code>choice::Function=_rational</code>: A function that determines the choice of the option contract. Default value is <code>_rational</code>.</li><li><code>sigdigits::Int64 = 4</code>: The number of significant digits to round the premium to. Default value is <code>4</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The premium for the American style option contract.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L917-L931">source</a></div><div><p>function premium(contract::MyEuropeanCallContractModel,                  model::MyBlackScholesContractPricingModel; sigdigits::Int64 = 4)</p><p>The <code>premium</code> function computes the premium for a European call option contract using the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model</a>. This function requires the contract to have the <code>K</code>, <code>DTE</code>, and <code>IV</code> fields set on the contract model, and the <code>Sₒ</code> and <code>r</code> fields set on the pricing <code>model::MyBlackScholesContractPricingModel</code> instance.</p><p><strong>Arguments</strong></p><ul><li><code>contract::MyEuropeanCallContractModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanCallContractModel">MyEuropeanCallContractModel</a> type which models the European call option contract.</li><li><code>model::MyBlackScholesContractPricingModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel">MyBlackScholesContractPricingModel</a> type which models the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model calculation</a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The premium for the European call option contract.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L1027-L1040">source</a></div><div><pre><code class="language-julia hljs">function premium(contract::MyEuropeanPutContractModel, 
            model::MyBlackScholesContractPricingModel; sigdigits::Int64 = 4) -&gt; Float64</code></pre><p>The <code>premium</code> function computes the premium for a European put option contract using the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model</a>. This function requires the contract to have the <code>K</code>, <code>DTE</code>, and <code>IV</code> fields set on the contract model, and the <code>Sₒ</code> and <code>r</code> fields set on the pricing <code>model::MyBlackScholesContractPricingModel</code> instance.</p><p><strong>Arguments</strong></p><ul><li><code>contract::MyEuropeanPutContractModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyEuropeanPutContractModel"><code>MyEuropeanPutContractModel</code></a> type which models the European put option contract.</li><li><code>model::MyBlackScholesContractPricingModel</code>: An instance of the <a href="#VLQuantitativeFinancePackage.MyBlackScholesContractPricingModel"><code>MyBlackScholesContractPricingModel</code></a> type which models the <a href="https://en.wikipedia.org/wiki/Black–Scholes_model">Black-Scholes-Merton model calculation</a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The premium for the European put option contract.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Compute.jl#L1062-L1075">source</a></div></details></article><h2 id="Implied-volatility"><a class="docs-heading-anchor" href="#Implied-volatility">Implied volatility</a><a id="Implied-volatility-1"></a><a class="docs-heading-anchor-permalink" href="#Implied-volatility" title="Permalink"></a></h2><p>The implied volatility of an option is the volatility value that makes the theoretical option price equal to the market price. It is a measure of the market&#39;s expectation of the future volatility of the underlying asset. The implied volatility can be calculated using the Black-Scholes model or by fitting the binomial pricing model to the market price.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.estimate_implied_volatility"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.estimate_implied_volatility"><code>VLQuantitativeFinancePackage.estimate_implied_volatility</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">estimate_implied_volatility(contract::T; Sₒ::Float64 = 100.0, h::Int64 = 1, r̄::Float64 = 0.05) -&gt; Tuple{Float64,Float64} where {T&lt;:AbstractContractModel}</code></pre><p>The <code>estimate_implied_volatility</code> function estimates the implied volatility for a given contract using the <a href="https://en.wikipedia.org/wiki/Nelder–Mead_method">Nelder-Mead optimization algorithm</a>. </p><p><strong>Arguments</strong></p><ul><li><code>contract::T</code>: An instance of a contract model that defines the contract parameters, where <code>T</code> is a subtype of the <code>AbstractContractModel</code> type.</li><li><code>Sₒ::Float64</code>: The initial stock price used to compute the premium. The default value is <code>100.0</code>.</li><li><code>h::Int64</code>: The height of the lattice model used to compute the premium. The default value is <code>1</code>.</li><li><code>r̄::Float64</code>: The annual risk-free rate used to compute the premium. The default value is <code>0.05</code>.  </li></ul><p><strong>Returns</strong></p><ul><li><code>Tuple{Float64,Float64}</code>: The likelihood and estimated implied volatility for the given contract.</li></ul><p><strong>See:</strong></p><ul><li>We use the <a href="https://en.wikipedia.org/wiki/Nelder–Mead_method">Nelder-Mead optimization algorithm</a> from the <a href="https://github.com/JuliaNLSolvers/Optim.jl">Optim.jl package</a> to estimate the implied volatility.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Volatility.jl#L24-L41">source</a></div></details></article><h2 id="The-Greeks"><a class="docs-heading-anchor" href="#The-Greeks">The Greeks</a><a id="The-Greeks-1"></a><a class="docs-heading-anchor-permalink" href="#The-Greeks" title="Permalink"></a></h2><p><a href="https://en.wikipedia.org/wiki/en:Greeks_(finance)?variant=zh-tw">The Greeks</a> quantify the sensitivity of an option&#39;s premium to various factors. <code>Delta</code>, <code>theta</code>, <code>vega</code>, <code>rho</code> and <code>gamma</code> are the most widely used Greeks, measuring an option&#39;s sensitivity to changes in the underlying asset&#39;s share price, the time decay, implied volatility, the risk-free rate and the rate of change in delta, respectively. </p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.delta"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.delta"><code>VLQuantitativeFinancePackage.delta</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">function delta(contract::Y; h::Int64=2, T::Float64=(1 / 365), σ::Float64=0.15,
    Sₒ::Float64=1.0, μ::Float64=0.0015, choice::Function=_rational)::Float64 where {Y&lt;:AbstractContractModel}</code></pre><p>Compute the <code>delta</code> of a contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein binomial tree method</a>. <code>Delta</code> measures the change in the options premium for a <code>1 USD/share</code> change in the underlying price, and is defined as:</p><p class="math-container">\[\Delta(\star) = \frac{\partial\mathcal{P}}{\partial{S}}\Bigr|_{\star}\]</p><p>where <span>$\star$</span> is the current state of the system, i.e., the current underlying price, time to maturity, implied volatility, and risk-free rate.</p><p><strong>Arguments</strong></p><ul><li><code>contract::Y</code>: The contract model for which we compute the delta where <code>Y</code> is a subtype of <code>AbstractContractModel</code>.</li><li><code>h::Int64=2</code>: The number of levels in the binomial tree.</li><li><code>T::Float64 = (1 / 365)</code>: The time to maturity for the options contract measured in years, assume a 365-day year.</li><li><code>σ::Float64 = 0.15</code>: The implied volatility (IV) for the options contract</li><li><code>Sₒ::Float64 = 1.0</code>: Initial share price of the underlying at the time contract was purchased</li><li><code>μ::Float64 = 0.0015</code>: Single-step growth rate. Equals the risk-free rate for risk-neutral options evaluation</li></ul><p><strong>Return</strong></p><ul><li><code>Δ::Float64</code>: The delta value for this option contract</li></ul><p><strong>See also:</strong></p><ul><li><a href="https://www.investopedia.com/terms/d/delta.asp">What is Delta?</a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Greeks.jl#L92-L118">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.theta"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.theta"><code>VLQuantitativeFinancePackage.theta</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">function theta(contract::Y; h::Int64=2, T::Float64=(1 / 365), σ::Float64=0.15,
    Sₒ::Float64=1.0, μ::Float64=0.0015, choice::Function=_rational) -&gt; Float64 where {Y&lt;:AbstractContractModel}</code></pre><p>Compute the <code>theta</code> of a contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein binomial tree method</a>. <code>Theta</code> measures the rate of change in the options premium for a <code>1 day</code> change in the time to maturity, and is defined as:</p><p class="math-container">\[\theta(\star) = \frac{\partial\mathcal{P}}{\partial{T}}\Bigr|_{\star}\]</p><p>where <span>$\star$</span> is the current state of the system, i.e., the current underlying price, time to maturity, implied volatility, and risk-free rate.</p><p><strong>Arguments</strong></p><ul><li><code>contract::Y</code>: The contract model for which we compute the <code>theta</code> where <code>Y</code> is a subtype of <code>AbstractContractModel</code>.</li><li><code>h::Int64=2</code>: The number of levels in the binomial tree.</li><li><code>T::Float64 = (1/365)</code>: The time to maturity for the options contract measured in years assuming a 365-day year.</li><li><code>σ::Float64 = 0.15</code>: The implied volatility (IV) for the options contract</li><li><code>Sₒ::Float64 = 1.0</code>: Initial share price of the underlying at the time contract was purchased</li><li><code>μ::Float64 = 0.0015</code>: Single-step growth rate. Equals the risk-free rate for risk-neutral options evaluation</li></ul><p><strong>Return</strong></p><ul><li><code>Θ::Float64</code>: The <code>theta</code> value for this option contract</li></ul><p><strong>See also:</strong></p><ul><li><a href="https://www.investopedia.com/terms/t/theta.asp">What is Theta?</a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Greeks.jl#L18-L45">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.vega"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.vega"><code>VLQuantitativeFinancePackage.vega</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">function vega(contract::Y; h::Int64=2, T::Float64=(1 / 365), σ::Float64=0.15,
    Sₒ::Float64=1.0, μ::Float64=0.0015, choice::Function=_rational) -&gt; Float64 where {Y&lt;:AbstractContractModel}</code></pre><p>Compute the <code>vega</code> of a contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein binomial tree method</a>. <code>Vega</code> measures the rate of change in the options premium for a <code>1%</code> change in the implied volatility, and is defined as:</p><p class="math-container">\[V(\star) = \frac{\partial\mathcal{P}}{\partial{\sigma}}\Bigr|_{\star}\]</p><p>where <span>$\star$</span> is the current state of the system, i.e., the current underlying price, time to maturity, implied volatility, and risk-free rate.</p><p><strong>Arguments</strong></p><ul><li><code>contract::Y</code>: The contract model for which we compute the delta where <code>Y</code> is a subtype of <code>AbstractContractModel</code>.</li><li><code>h::Int64=2</code>: The number of levels in the binomial tree.</li><li><code>T::Float64 = (1 / 365)</code>: The time to maturity for the options contract measured in years, assume a 365-day year.</li><li><code>σ::Float64 = 0.15</code>: The implied volatility (IV) for the options contract</li><li><code>Sₒ::Float64 = 1.0</code>: Initial share price of the underlying at the time contract was purchased</li><li><code>μ::Float64 = 0.0015</code>: Single-step growth rate. Equals the risk-free rate for risk-neutral options evaluation</li></ul><p><strong>Return</strong></p><ul><li><code>V::Float64</code>: The <code>vega</code> value for this option contract</li></ul><p><strong>See also:</strong></p><ul><li><a href="https://www.investopedia.com/terms/v/vega.asp">What is Vega?</a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Greeks.jl#L222-L249">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.rho"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.rho"><code>VLQuantitativeFinancePackage.rho</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">function rho(contract::Y; h::Int64=2, T::Float64=(1 / 365), σ::Float64=0.15,
    Sₒ::Float64=1.0, μ::Float64=0.0015, choice::Function=_rational) -&gt; Float64 where {Y&lt;:AbstractContractModel}</code></pre><p>Compute the <code>rho</code> of a contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein binomial tree method</a>. <code>Rho</code> measures the rate of change in the options premium for a <code>1%</code> change in the risk-free rate <span>$r_f$</span>, and is defined as:</p><p class="math-container">\[\text{rho}(\star) = \frac{\partial\mathcal{P}}{\partial{r_{f}}}\Bigr|_{\star}\]</p><p>where <span>$\star$</span> is the current state of the system, i.e., the current underlying price, time to maturity, implied volatility, and risk-free rate.</p><p><strong>Arguments</strong></p><ul><li><code>contract::Y</code>: The contract model for which we compute the delta where <code>Y</code> is a subtype of <code>AbstractContractModel</code>.</li><li><code>h::Int64=2</code>: The number of levels in the binomial tree.</li><li><code>T::Float64 = (1 / 365)</code>: The time to maturity for the options contract measured in years, assume a 365-day year.</li><li><code>σ::Float64 = 0.15</code>: The implied volatility (IV) for the options contract</li><li><code>Sₒ::Float64 = 1.0</code>: Initial share price of the underlying at the time contract was purchased</li><li><code>μ::Float64 = 0.0015</code>: Single-step growth rate. Equals the risk-free rate for risk-neutral options evaluation</li></ul><p><strong>Return</strong></p><ul><li><code>V::Float64</code>: The <code>vega</code> value for this option contract</li></ul><p><strong>See also:</strong></p><ul><li><a href="https://www.investopedia.com/terms/r/rho.asp">What is Rho?</a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Greeks.jl#L280-L307">source</a></div></details></article><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.gamma"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.gamma"><code>VLQuantitativeFinancePackage.gamma</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">function gamma(contract::Y; h::Int64=2, T::Float64=(1 / 365), σ::Float64=0.15,
    Sₒ::Float64=1.0, μ::Float64=0.0015, choice::Function=_rational) -&gt; Float64 where {Y&lt;:AbstractContractModel}</code></pre><p>Compute the <code>gamma</code> of a contract using the <a href="https://en.wikipedia.org/wiki/Binomial_options_pricing_model">Cox-Ross-Rubinstein binomial tree method</a>. Gamma measures the rate of change in the <code>delta</code> for a <code>1 USD/share</code> change in the underlying price, and is defined as:</p><p class="math-container">\[\Gamma(\star) = \frac{\partial^2\mathcal{P}}{\partial{S}^2}\Bigr|_{\star}\]</p><p>where <span>$\star$</span> is the current state of the system, i.e., the current underlying price, time to maturity, implied volatility, and risk-free rate.</p><p><strong>Arguments</strong></p><ul><li><code>contract::Y</code>: The contract model for which we compute the delta where <code>Y</code> is a subtype of <code>AbstractContractModel</code>.</li><li><code>h::Int64=2</code>: The number of levels in the binomial tree.</li><li><code>T::Float64 = (1 / 365)</code>: The time to maturity for the options contract measured in years, assume a 365-day year.</li><li><code>σ::Float64 = 0.15</code>: The implied volatility (IV) for the options contract</li><li><code>Sₒ::Float64 = 1.0</code>: Initial share price of the underlying at the time contract was purchased</li><li><code>μ::Float64 = 0.0015</code>: Single-step growth rate. Equals the risk-free rate for risk-neutral options evaluation</li></ul><p><strong>Return</strong></p><ul><li><code>Γ::Float64</code>: The gamma value for this option contract</li></ul><p><strong>See also:</strong></p><ul><li><a href="https://www.investopedia.com/terms/g/gamma.asp">What is Gamma?</a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Greeks.jl#L144-L170">source</a></div></details></article><h2 id="Hedging"><a class="docs-heading-anchor" href="#Hedging">Hedging</a><a id="Hedging-1"></a><a class="docs-heading-anchor-permalink" href="#Hedging" title="Permalink"></a></h2><p>We can use the Greeks to construct hedging strategies to mitigate the risk associated with holding options contracts. A common hedging strategy is delta hedging, which involves taking a position in the underlying asset to offset the delta of the options contract. By continuously adjusting the position in the underlying asset, we can maintain a delta-neutral position, reducing the risk associated with changes in the underlying asset&#39;s price.</p><article><details class="docstring" open="true"><summary id="VLQuantitativeFinancePackage.MyEquityModel"><a class="docstring-binding" href="#VLQuantitativeFinancePackage.MyEquityModel"><code>VLQuantitativeFinancePackage.MyEquityModel</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">mutable struct MyEquityModel &lt;: AbstractAssetModel</code></pre><p>Models a single equity asset. We use this model when thinking about equity as counter assets in hedging strategies.</p><p><strong>Fields</strong></p><ul><li><code>ticker::String</code>: The ticker symbol of the equity asset</li><li><code>purchase_price::Float64</code>: The purchase price of the equity asset</li><li><code>current_price::Float64</code>: The current price of the equity asset</li><li><code>direction::Int64</code>: The direction of the position (1 for long, -1 for short)</li><li><code>number_of_shares::Int64</code>: The number of shares held</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/varnerlab/VLQuantitativeFinancePackage.jl/blob/fb54786fbdda2bc18ab20bc489ca1f9e330d90f9/src/Types.jl#L418-L430">source</a></div></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../equity/">« Equity securities</a><a class="docs-footer-nextpage" href="../portfolio/">Portfolio management »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.0 on <span class="colophon-date" title="Wednesday 19 November 2025 20:44">Wednesday 19 November 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
